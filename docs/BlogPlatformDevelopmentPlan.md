# План разработки Блог-платформы на Flask

Этот документ содержит пошаговый план создания многопользовательской блог-платформы с использованием Flask, SQLite (
чистый SQL) и Bootstrap 5.

## Этап 1: Инициализация проекта и скелет приложения

- [x] Создание структуры папок (app, static, templates).
- [x] Настройка базового конфигурационного файла `config.py`.
- [x] Создание фабрики приложений в `app/__init__.py`.
- [x] Настройка базового шаблона `base.html` с подключением Bootstrap 5.

## Этап 2: Работа с базой данных (SQLite)

- [x] Создание файла `app/schema.sql` (таблицы: users, posts, comments).
- [x] Настройка подключения к БД (`app/db.py`).
- [x] Скрипт для инициализации БД (`flask init-db`).

## Этап 3: Аутентификация и пользователи

**Подход:** Discord-стиль — логин не уникален, каждому пользователю присваивается уникальный дискриминатор (тег),
например `Username#1234`. Регистрация только по логину и паролю, без email и подтверждений.

- [x] Обновление схемы БД: добавлено поле `discriminator` в таблицу `user`.
- [x] Регистрация Blueprint `auth` (`app/auth.py`).
- [x] Функционал регистрации:
  - Любой логин (даже если занят).
  - Автоматическая генерация уникального дискриминатора (#0001–#9999).
  - Хэширование паролей (PBKDF2-HMAC-SHA256 с солью, без внешних библиотек).
- [x] Функционал логина (ввод в формате `Логин#1234`).
- [x] Функционал логаута.
- [x] Middleware для защиты маршрутов (`login_required` декоратор).
- [x] Шаблоны: `auth/register.html`, `auth/login.html`.
- [x] Обновление `base.html`: навигация, flash-сообщения.

## Этап 4: Управление статьями (CRUD)

- [ ] Регистрация Blueprint `blog`.
- [ ] Главная страница (список всех постов).
- [ ] Создание нового поста.
- [ ] Просмотр отдельного поста.
- [ ] Редактирование и удаление (только для авторов).

## Этап 5: Комментарии

- [ ] Форма добавления комментария под постом.
- [ ] Отображение списка комментариев.
- [ ] Удаление своего комментария.

## Этап 6: Стилизация и UI/UX

- [ ] Финализация стилей через Bootstrap 5.
- [ ] Навигационная панель (динамические ссылки: Войти/Выйти).
- [ ] Flash-сообщения об успехах/ошибках.

## Этап 7: Финализация и Документация

- [ ] Финальное тестирование.
- [ ] Обновление `README.md` подробной инструкцией.